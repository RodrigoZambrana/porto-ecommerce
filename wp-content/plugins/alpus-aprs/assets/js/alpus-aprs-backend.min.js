!function(a){a(document).ready((function(){a("body").on("click",".alpus-aprs-clear-all .alpus-plugin-action-button",(function(s){if(a(".alpus-aprs-generate-all .alpus-plugin-action-button.disabled").length>0)alpus_swal(wp.i18n.__("Oops!"),wp.i18n.__('"Generate all summaries" functionality is still running!'),"error");else{var n=a(this);n.append('<span class="alpus-aprs-loading small"><i></i></span>').addClass("loading"),a.ajax({type:"post",data:{action:"alpus_aprs_clear_cache"},url:alpus_aprs_backend_vars.ajax_url,success:function(a){a.success&&n.removeClass("loading").find("span").remove()}})}s.preventDefault()})),a("body").on("click",".alpus-aprs-generate-all .alpus-plugin-action-button:not(.disabled)",(function(s){a(this);a.ajax({type:"post",data:{action:"alpus_aprs_generate_all"},url:alpus_aprs_backend_vars.ajax_url,success:function(a){location.reload()}}),s.preventDefault()})),a("body").on("click",".alpus-aprs-generate-all .alpus-aprs-bg-generating-stop",(function(s){a(this);a.ajax({type:"post",data:{action:"alpus_aprs_generate_stop"},url:alpus_aprs_backend_vars.ajax_url,success:function(a){"stopped"==a.data&&location.reload()}}),s.preventDefault()})),a(".alpus-aprs-generate-all .alpus-plugin-action-button").length>0&&a.ajax({type:"post",data:{action:"alpus_aprs_is_generating"},url:alpus_aprs_backend_vars.ajax_url,success:function(s){if("false"!==s.data){let n=a(".alpus-aprs-generate-all .alpus-plugin-action-button").html(wp.i18n.__("Running - ")+s.data+wp.i18n.__(" Products Generated."));n.addClass("disabled"),a('<button class="button-primary alpus-aprs-bg-generating-stop">'+wp.i18n.__("Stop Generating")+"</button>").insertAfter(n)}}})}))}(jQuery);